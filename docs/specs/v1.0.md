# MIND Language Specification v1.0 (Working Draft)

> Status: Draft; evolves via RFCs in `docs/rfcs/`.

## 1. Lexical Grammar

### Phase 1 subset
- Ident: `[a-zA-Z_][a-zA-Z0-9_]*`
- Int: `[0-9]+`
## 2. Types (Tensor[T, Shape], device placement, effects)
## 3. Expressions and Statements

### Phase 1 subset
- `Node::Lit(Ident|Int)`, `Module { items: Vec<Node> }`

### Phase 2 subset (prototype)
- Literals: `Int`, `Ident`
- Binary ops: `+`, `-`, `*`, `/` with precedence `*` & `/` over `+` & `-`, all left-associative
- Parentheses override precedence

## 3.1 Statements (Phase subset)
- `let <ident> = <expr>`
- `<ident> = <expr>`
- Semicolons/newlines as separators.
- Result value = value of the last statement/expression.

## 3.2 Constant Folding (Phase subset)
- Bottom-up on integer `+ - * /` (skip `÷0`).
## 4. Autodiff Primitives (grad, vjp, jvp)
## 5. Module System and Stdlib Surface
## 6. IR Mapping to MLIR
## 7. Safety, Errors, Diagnostics

### Phase subset (Diagnostics)
- Errors report 1-based line/col and a single-line caret highlight.
- Multi-line spans degrade to single-line best-effort (to be improved later).

## 2.1 Shape Inference (Phase 1)
Left-biased unification:
- Known==Known → Known
- Known↔Sym → Known
- Sym↔Sym → left symbol
- Rank mismatch → missing dims become `UNK` (left-biased)

## 5.1 Stdlib (Phase 1)
`Tensor<T>` placeholder with `zeros/ones/reshape/shape/sum/mean` (no storage).
